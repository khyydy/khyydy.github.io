{"version":3,"file":"js/login.557b6bbb.js","mappings":"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","sources":["webpack://kaoshikeys/./src/views/LoginView.vue?e537","webpack://kaoshikeys/src/views/LoginView.vue","webpack://kaoshikeys/./src/views/LoginView.vue?6b84","webpack://kaoshikeys/./src/views/LoginView.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Login\"},[_vm._m(0),_c('Form',{ref:\"formInline\",attrs:{\"model\":_vm.formInline,\"rules\":_vm.ruleInline}},[_c('FormItem',{attrs:{\"prop\":\"username\"}},[_c('Input',{attrs:{\"type\":\"text\",\"autofocus\":\"\",\"placeholder\":\"工号\"},model:{value:(_vm.formInline.username),callback:function ($$v) {_vm.$set(_vm.formInline, \"username\", $$v)},expression:\"formInline.username\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-contact-outline\"},slot:\"prepend\"})],1)],1),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.formInline.password),callback:function ($$v) {_vm.$set(_vm.formInline, \"password\", $$v)},expression:\"formInline.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formInline')}}},[_vm._v(\"登录\")]),_c('router-link',{attrs:{\"to\":\"/recharge\"}},[_c('Button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"primary\"}},[_vm._v(\"充值\")])],1)],1)],1),_c('p',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\" 输入考核云平台账号信息即可，如忘记密码请去App上进行重置。 \")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"20px\"}},[_c('h2',[_vm._v(\"用户登录\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Login\">\r\n    <div style=\"margin: 20px\">\r\n      <h2>用户登录</h2>\r\n    </div>\r\n    <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\">\r\n      <FormItem prop=\"username\">\r\n        <Input type=\"text\" v-model=\"formInline.username\" autofocus placeholder=\"工号\">\r\n        <Icon type=\"ios-contact-outline\" slot=\"prepend\"></Icon>\r\n        </Input>\r\n      </FormItem>\r\n      <FormItem prop=\"password\">\r\n        <Input type=\"password\" v-model=\"formInline.password\" placeholder=\"密码\">\r\n        <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\r\n        </Input>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button type=\"primary\" @click=\"handleSubmit('formInline')\">登录</Button>\r\n        <router-link to=\"/recharge\">\r\n          <Button type=\"primary\" style=\"margin-left: 20px\">充值</Button>\r\n        </router-link>\r\n      </FormItem>\r\n    </Form>\r\n    <p style=\"text-align: left\">\r\n      输入考核云平台账号信息即可，如忘记密码请去App上进行重置。\r\n    </p>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      formInline: {\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n      isVip: false,\r\n      ruleInline: {\r\n        username: [\r\n          {\r\n            required: true,\r\n            message: \"请输入工号\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: \"请输入密码\",\r\n            trigger: \"blur\",\r\n          },\r\n          {\r\n            type: \"string\",\r\n            min: 6,\r\n            message: \"密码不能少于6位\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    checkVip(users) {\r\n      // console.log(users);\r\n      let app_id = 2;\r\n      let secret_key = \"DIy5BmbglwD4uQxwjYaplaBJLO5tQmYL\";\r\n      let username = 'kaoheyun' + users.username;\r\n      let password = 'kaoheyun' + users.userid;\r\n      this.$axios.get(\"http://111.229.103.199/app_user_api/userregister\", {\r\n        params: {\r\n          app_id: app_id,\r\n          secret_key: secret_key,\r\n          username: username,\r\n          password: password,\r\n          enpassword: password,\r\n        }\r\n      }).then(() => {\r\n        this.$axios.get(\"http://111.229.103.199/app_user_api/getusertoken\", {\r\n          params: {\r\n            app_id: app_id,\r\n            secret_key: secret_key,\r\n            username: username,\r\n            password: password,\r\n          }\r\n        }).then((res) => {\r\n          if (res.data.code) {\r\n            let token = res.data.data.token;\r\n            this.$axios.get(\"http://111.229.103.199/app_user_api/getuserapp\", {\r\n              params: {\r\n                app_id: app_id,\r\n                token: token,\r\n                device_code: username,\r\n              }\r\n            }).then((res) => {\r\n              if(res.data.code) {\r\n                // console.log(res.data);\r\n                if(res.data.data.points) this.isVip = true;\r\n                this.$router.push({\r\n                  name: \"home\",\r\n                  params: {\r\n                    users: users,\r\n                    isVip: this.isVip,\r\n                    points: res.data.data.points,\r\n                  },\r\n                });\r\n              }else{\r\n                this.$Message.error(res.data.content);\r\n              }\r\n            });\r\n          } else {\r\n            this.$Message.error(res.data.content);\r\n          }\r\n        });\r\n      });\r\n    },\r\n    handleSubmit(name) {\r\n      this.$Spin.show();\r\n      this.$refs[name].validate((valid) => {\r\n        if (valid) {\r\n          let Url =\r\n            \"http://yun.hbgs.online:8081/kaoshi/index.php?user-phone-logmui\";\r\n          let data = {\r\n            args: {\r\n              username: this.formInline.username,\r\n              userpassword: this.formInline.password,\r\n            },\r\n            userlogin: \"1\",\r\n            userhash: \"0.640034068151828\",\r\n          };\r\n          data = this.$qs.stringify(data);\r\n          this.$axios.post(Url, data).then((rsp) => {\r\n            let data = rsp.data;\r\n            if (data.statusCode === 200) {\r\n              setTimeout(() => {\r\n                this.$Spin.hide();\r\n                this.$Message.success(\"登录成功！\");\r\n                // console.log(data.users);\r\n                this.checkVip(data.users);\r\n              }, 1000);\r\n            } else {\r\n              setTimeout(() => {\r\n                this.$Spin.hide();\r\n                this.$Message.error(data.message);\r\n              }, 1000);\r\n            }\r\n          });\r\n        } else {\r\n          setTimeout(() => {\r\n            this.$Spin.hide();\r\n            this.$Message.error(\"请检查工号密码是否输入正确！\");\r\n          }, 1000);\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.Login {\r\n  width: 80vw;\r\n  max-width: 420px;\r\n  margin: 0 auto;\r\n  min-height: 300px;\r\n  height: 46vh;\r\n  margin-top: 10vh;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=40df2500&\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","formInline","ruleInline","model","value","callback","$$v","$set","expression","slot","on","$event","handleSubmit","_v","staticStyle","staticRenderFns","data","username","password","isVip","required","message","trigger","type","min","methods","checkVip","users","app_id","secret_key","userid","$axios","get","params","enpassword","then","res","code","token","device_code","$router","push","name","points","$Message","error","content","$Spin","show","$refs","validate","valid","Url","args","userpassword","userlogin","userhash","$qs","stringify","post","rsp","statusCode","setTimeout","hide","success","component"],"sourceRoot":""}